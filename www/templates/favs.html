<ion-view view-title="Favorites">

    <ion-header-bar class="bar-subheader has-address-bar">
        <div class="address-bar">
            <div class="address-bar-wrapper address-bar-light">
                <div class="bar bar-light item-input-inset">
                    <div class="item-input-wrapper">
                        <input type="text" class="address-bar-search" autocorrect="off" autocapitalize="none" placeholder="Enter code or url" ng-model="view.input" my-enter="openView()">
                        <button class="address-bar-go button button-icon icon ion-android-checkbox" ng-click="openView()"></button>
                    </div>
                    <button class="address-bar-alt button button-icon button-clear ion-qr-scanner" ng-click="scanQr()"></button>
                </div>
            </div>
        </div>
    </ion-header-bar>

    <ion-content>

        <div class="item card" ng-show="favs.loading == true">
            <div class="item item-text-wrap" style="text-align:center">

                <div>
                  <svg version="1.1" id="loader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                   width="60px" height="60px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
                  <path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
                    s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
                    c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"/>
                  <path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
                    C22.32,8.481,24.301,9.057,26.013,10.047z">
                    <animateTransform attributeType="xml"
                      attributeName="transform"
                      type="rotate"
                      from="0 20 20"
                      to="360 20 20"
                      dur="0.5s"
                      repeatCount="indefinite"/>
                    </path>
                  </svg>
                </div>

       			<h2>Loading...</h2>

            </div>
        </div>

        <div class="item card" ng-show="favs.items.length == 0 && favs.loading == false">
            <div class="item item-text-wrap">
                <h2>Here your favorite apps will show</h2>
            </div>
            <div class="item item-text-wrap">
                <h2>Enter a url or code in the address bar above or scan a QR code with the <button class="button-icon button-clear ion-qr-scanner" ng-click="scanQr()" style="font-size:18px; color:#333; padding:0;"></button> icon.</h2>
            </div>
            <div class="item item-text-wrap app-container">

                <div class="row app-row">
                    <div class="col col-33 text-center">
                        <img ng-src="img/icons/coffee/120.png" class="app-icon">
                        <div class="app-name">Coffee Bar</div>
                    </div>

                    <div class="col col-33 text-center">
                        <img ng-src="img/icons/shopping-bag/120.png" class="app-icon">
                        <div class="app-name">Shopping Mall</div>
                    </div>

                    <div class="col col-33 text-center">
                        <img ng-src="img/icons/camera/120.png" class="app-icon">
                        <div class="app-name">Art Gallery</div>
                    </div>
                </div>

            </div>
        </div>

		<section class="app-container">

			<div ng-repeat="fav in favs.items">
				<div ng-if="$index % 3 === 0" ng-init="group = favs.items.slice($index, $index + 3)">
					<div class="row app-row">
                        <div class="col col-33 text-center" ng-click="showActionSheet('{{ grItem.name | escapeSingleQuote }}', '{{ grItem.id }}', '{{ grItem.url }}')" ng-repeat="grItem in group">
                            <img ng-src="{{ grItem.icon }}" class="app-icon">
                            <div class="app-name">{{ grItem.name }}</div>
                        </div>
					</div>
				</div>
			</div>

		</section>

    </ion-content>
</ion-view>